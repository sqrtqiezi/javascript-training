## 新浪新闻 - 瀑布流布局

### 预览地址
[http://qiezi.io/javascript-training/waterfall-sinanews/](http://qiezi.io/javascript-training/waterfall-sinanews/)

### 懒加载原理

* 页面加载时不渲染需要展示项目（或者只渲染首屏）;
* 当特定条件触发时， 如：
  * 滚动至页面底部
  * 某个隐藏的元素出现在用户视野
* 此时利用 Ajax 技术动态读取需要展现项目，渲染至页面中。

懒加载可以优化页面首屏加载速度，改善用户体验
  
### 瀑布流原理
基于绝对定位的瀑布流的操作步骤：

1. 将瀑布流容器的 position 设置为：relative，并根据瀑布流列数计算并设定容器 width
2. 取一个需要定位的元素，设置其 positon 为 absolute，并计算其高度；
3. 找到高度最短的一列；
4. 设置元素的 left 值为：（最短列 index - 1） * 元素宽度；
5. 设置元素的 top 值为：最短列高度；
6. 计算元素高度，并修改最短列高度为：最短列高度 + 元素高度；
7. 重复步骤 2 - 6，直到所有元素都被定位。
